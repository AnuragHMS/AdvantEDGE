---
swagger: "2.0"
info:
  description: "This is MEEP Location Services Notification Callback API"
  version: "0.0.0"
  title: "MEEP Location Service - Notification Callback"
  termsOfService: "InterDigital Internal Only"
host: "172.0.0.1:8081"
basePath: "/location/v1/"
tags:
- name: "notifications"
  description: "AdvantEDGE Location Subscription Notification Callbacks (user and\
    \ zonal)"
schemes:
- "http"
consumes:
- "application/json"
produces:
- "application/json"
paths:
  /location_notifications/{subscriptionId}:
    post:
      tags:
      - "notifications"
      summary: "This operation is used by the AdvantEDGE Location Service to issue\
        \ a callback notification towards an ME application with a zonal or user tracking\
        \ subscription"
      description: "Zonal or User location tracking subscription notification"
      operationId: "TrackingNotification"
      parameters:
      - name: "subscriptionId"
        in: "path"
        description: "Identity of a notification subscription (user or zonal)"
        required: true
        type: "string"
        x-exportParamName: "SubscriptionId"
      - in: "body"
        name: "Notification"
        description: "Zonal or User Tracking Notification"
        required: true
        schema:
          $ref: "#/definitions/TrackingNotification"
        x-exportParamName: "Notification"
      responses:
        204:
          description: "No Content"
  /zone_status_notifications/{subscriptionId}:
    post:
      tags:
      - "notifications"
      summary: "This operation is used by the AdvantEDGE Location Service to issue\
        \ a callback notification towards an ME application with a zone status tracking\
        \ subscription"
      description: "Zone status tracking subscription notification"
      operationId: "ZoneStatusNotification"
      parameters:
      - name: "subscriptionId"
        in: "path"
        description: "Identity of a notification subscription (user or zonal)"
        required: true
        type: "string"
        x-exportParamName: "SubscriptionId"
      - in: "body"
        name: "Notification"
        description: "Zone Status Notification"
        required: true
        schema:
          $ref: "#/definitions/ZoneStatusNotification"
        x-exportParamName: "Notification"
      responses:
        204:
          description: "No Content"
definitions:
  AccessPointId:
    type: "string"
    description: "Unique identifier of a point of access"
    example: "001010000000000000000000000000001 or poa001"
  Address:
    type: "string"
    description: "Address of the user or device based on the connected access point\
      \ - address = acr:<UE IP address>"
    example: "acr:10.1.34.67"
  CallbackData:
    type: "string"
    description: "CallBackData if passed by the application during the associated\
      \ Subscription (Zone or User Tracking) operation"
    example: "1234"
  InterestRealm:
    type: "string"
    description: "Details about the access point, geographical position, industry,\
      \ etc."
    example: "NY"
  Link:
    type: "object"
    required:
    - "href"
    - "rel"
    properties:
      rel:
        type: "object"
        description: "Describes the relationship between the URI and the resource."
        properties: {}
      href:
        type: "object"
        description: "URI"
        properties: {}
    description: "Link to other resources"
  NumberOfAccessPoints:
    type: "integer"
    format: "uint32"
    description: "Number of access points or points of access within a Location Zone"
    example: "10"
  NumberOfUsers:
    type: "integer"
    format: "uint32"
    description: "The number of users currently on the access point"
    example: "7"
  NumberOfUsersInAP:
    type: "integer"
    format: "uint32"
    description: "This element shall be present when ZoneStatusSubscription includes\
      \ numberOfUsersAPThreshold element and the number of users in an access point\
      \ exceeds the threshold defined in the subscription."
    example: "12"
  NumberOfUsersInZone:
    type: "integer"
    format: "uint32"
    description: "This element shall be present when ZoneStatusSubscription includes\
      \ numberOfUsersZoneThreshold element and the number of users in a zone exceeds\
      \ the threshold defined in this subscription."
    example: "20"
  OperationStatus:
    type: "string"
    description: "The operation status of the access point"
    example: "Serviceable"
    enum:
    - "Serviceable"
    - "Unserviceable"
    - "Unknown"
  ResourceURL:
    type: "string"
    format: "url"
    description: "URL where the UE may be contacted for some service (application\
      \ specific)"
    example: "http://172.1.19.2:8081/myService/123456"
  SubscriptionId:
    type: "string"
    description: "Unique Identifier for a notification subscription.  Created by the\
      \ MEC Location Service and used to reference an individual subscription"
    example: "sub123"
  Timestamp:
    type: "string"
    format: "date-time"
    description: "Indicates the time of day for zonal presence notification."
    example: "2017-01-01T02:51:43Z"
  UserId:
    type: "string"
    description: "Unique identifier of a user or client node"
    example: "client001"
  UserInfo:
    type: "object"
    required:
    - "accessPointId"
    - "address"
    - "resourceURL"
    - "zoneId"
    properties:
      userId:
        $ref: "#/definitions/UserId"
      address:
        $ref: "#/definitions/Address"
      accessPointId:
        $ref: "#/definitions/AccessPointId"
      zoneId:
        $ref: "#/definitions/ZoneId"
      resourceURL:
        $ref: "#/definitions/ResourceURL"
  UserList:
    type: "object"
    required:
    - "userList"
    properties:
      userList:
        type: "array"
        items:
          $ref: "#/definitions/UserInfo"
  UserEventType:
    type: "string"
    enum:
    - "Entering"
    - "Transferring"
    - "Exiting"
  UserTrackingNotification:
    type: "object"
    required:
    - "callbackData"
    - "timeStamp"
    - "userInfo"
    properties:
      callbackData:
        $ref: "#/definitions/CallbackData"
      userInfo:
        $ref: "#/definitions/UserInfo"
      timeStamp:
        $ref: "#/definitions/Timestamp"
      userEventType:
        $ref: "#/definitions/UserEventType"
    description: "User tracking notification - callback generated toward an ME app\
      \ with a user tracking subscription"
  ZoneId:
    type: "string"
    description: "Unique Identifier of a Location Zone"
    example: "zone001"
  ZoneInfo:
    type: "object"
    required:
    - "numberOfAccessPoints"
    - "numberOfUsers"
    - "zoneId"
    properties:
      zoneId:
        $ref: "#/definitions/ZoneId"
      numberOfAccessPoints:
        $ref: "#/definitions/NumberOfAccessPoints"
      numberOfUsers:
        $ref: "#/definitions/NumberOfUsers"
    description: "A type containing zone information."
  ZoneStatusNotification:
    type: "object"
    required:
    - "timestamp"
    - "zoneId"
    properties:
      callbackData:
        $ref: "#/definitions/CallbackData"
      zoneId:
        $ref: "#/definitions/ZoneId"
      accessPointId:
        $ref: "#/definitions/AccessPointId"
      numberOfUsersInZone:
        $ref: "#/definitions/NumberOfUsersInZone"
      numberOfUsersInAP:
        $ref: "#/definitions/NumberOfUsersInAP"
      operationStatus:
        $ref: "#/definitions/OperationStatus"
      timestamp:
        $ref: "#/definitions/Timestamp"
      link:
        type: "array"
        example: "rel=\"ZonalStatusSubscription\" href=\"http://example.com/exampleAPI/location/v1/subscriptions/zonalStatus/sub123\""
        description: "Link to other resources that are in relationship with this notification.\
          \ The server SHOULD include a link to the related subscription. No other\
          \ links are required or suggested by this specification."
        items:
          $ref: "#/definitions/Link"
    description: "A type containing zone status notification."
    example:
      operationStatus: "Serviceable"
      callbackData: "1234"
      accessPointId: "001010000000000000000000000000001 or poa001"
      link: "rel=\"ZonalStatusSubscription\" href=\"http://example.com/exampleAPI/location/v1/subscriptions/zonalStatus/sub123\""
      zoneId: "zone001"
      numberOfUsersInZone: "20"
      numberOfUsersInAP: "12"
      timestamp: "2017-01-01T02:51:43Z"
  TrackingNotification:
    type: "object"
    required:
    - "callbackData"
    properties:
      callbackData:
        $ref: "#/definitions/CallbackData"
      zoneId:
        $ref: "#/definitions/ZoneId"
      address:
        $ref: "#/definitions/Address"
      interestRealma:
        $ref: "#/definitions/InterestRealm"
      userEventType:
        $ref: "#/definitions/UserEventType"
      currentAccessPointId:
        $ref: "#/definitions/AccessPointId"
      previousAccessPointId:
        $ref: "#/definitions/AccessPointId"
      timestamp:
        $ref: "#/definitions/Timestamp"
    description: "Zonal or User tracking notification - callback generated toward\
      \ an ME app with a zonal or user tracking subscription"
    example:
      address: "acr:10.1.34.67"
      userEventType: {}
      callbackData: "1234"
      previousAccessPointId: "001010000000000000000000000000001 or poa001"
      zoneId: "zone001"
      interestRealma: "NY"
      currentAccessPointId: "001010000000000000000000000000001 or poa001"
      timestamp: "2017-01-01T02:51:43Z"
parameters:
  Path.SubscriptionId:
    name: "subscriptionId"
    in: "path"
    description: "Identity of a notification subscription (user or zonal)"
    required: true
    type: "string"
    x-exportParamName: "SubscriptionId"
  Body.TrackingNotification:
    in: "body"
    name: "Notification"
    description: "Zonal or User Tracking Notification"
    required: true
    schema:
      $ref: "#/definitions/TrackingNotification"
    x-exportParamName: "Notification"
  Body.ZoneStatusNotification:
    in: "body"
    name: "Notification"
    description: "Zone Status Notification"
    required: true
    schema:
      $ref: "#/definitions/ZoneStatusNotification"
    x-exportParamName: "Notification"
externalDocs:
  description: "Find out more about MEC Location Services"
  url: "http://www.etsi.org/deliver/etsi_gs/MEC/001_099/013/01.01.01_60/gs_MEC013v010101p.pdf"
